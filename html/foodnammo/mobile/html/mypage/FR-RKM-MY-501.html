
<!DOCTYPE html>
<html lang="ko" xml:lang="ko">
<head>
<meta charset="utf-8">
<!-- include js 
	 상세 html 마크업 가이드 : html/_layout/layout_guide.html 참조
-->
<script src="../../_inc/pb_guide_include.js"></script>
<script>include.meta();</script>
<!-- ======================== CSS / JS ======================== -->
<script>include.styles();</script>
<script>include.scripts();</script>
<!--// ======================== CSS / JS ======================== -->
<script>include.title();</script>
</head>   

<body>
<div class="wrap">
	<!-- ========== 공통 헤더 :: header ========== -->
	<script>include.skipNav();</script>

	<header id="header" class="header">
		<div class="header-top">
			<div class="page-title-area">
                <a href="#" class="btn-back"><i class="ico-arrows-back"></i><span class="blind">뒤로가기</span></a>
				<h2 class="page-title">나의 찜</h2>
				<!-- <div class="my-menu">
					<ul>
						<li><a href="#" class="btn-util-search" title="검색"><i class="ico-search-pop"></i></a></li>
						<li><a href="#" class="btn-util-cart" title="장바구니"><span class="blind">장바구니</span><em class="count">1</em></a></li>
					</ul>
				</div> -->
			</div><!-- // page-title-area  -->
		</div><!--// header-top -->
	</header>
	<!--// ========== 공통 헤더 :: header ========== -->

	<!-- ========== 컨텐츠 영역 :: container ========== -->
	<section id="contents" class="container">
       
		<div class="content-wrap">

			<div class="tab-menu-type1">
				<ul>
					<li class="current"><a href="#"><span>상품</span></a></li>
					<li><a href="#"><span>브랜드</span></a></li>
				</ul>
			</div>

            <div class="top-notice inner-flex">
                <div class="left-item1"><span class="total">전체 <strong>3</strong>개</span></div>
                <div class="right-item1">
                    <button type="button" class="btn-option btn-default"><span>전체삭제</span></button>
                </div>
             </div>

			 <div class="ui-compare-select">
				<ul class="prd-item-list">
					<li class="compare-item" data-list="1">
						<div class="prd-info-area">
							<div class="inner">
								<div class="column img w80"><img src="../../images/_samples/@sample_80x80.png" alt="상품이미지"></div>
								<div class="column tit">
									<div class="brand-name">맛있닭</div>
									<p class="tit type2">맛있닭 NEW 다이어트 도시락 5종 혼합 210g</p>
									<ul class="price-item">
										<li><span class="num">19,500</span>원</li>
										<li class="dlv-type"><em class="imgbadge-dlv-exp"><span class="blind">특급배송</span></em></li>
									</ul>
									<div class="rating">
										<i class="ico-bl-star"></i><span class="text-guide-sm2">5점</span><span class="text-guide-sm">(1415)</span>
									</div>
								</div><!--// column  -->
							</div>
							<a href="#" class="btn-blank"><span class="blind">자세히 보기</span></a>
						</div><!--// prd-info-area -->
						<div class="added-btn">
							<button type="button" class="btn-rud-sm btn-default ui-btn-compare"><span>비교담기</span></button>
							<button type="button" class="btn-rud-sm btn-primary-line"><i class="ico-btn-cart"></i><span>장바구니</span></button>
							<div class="custom-checkbox form-circle-box">
								<input type="checkbox" id="check-101-13" class="checkbox-wish" name="check-item-1"><label for="check-101-13"><span class="blind">체크박스</span></label>
							</div>
						</div>
					</li><!--// order-list-item -->
					<li class="compare-item" data-list="2">
						<div class="prd-info-area">
							<div class="inner">
								<div class="column img w80"><img src="../../images/_samples/@sample_80x80.png" alt="상품이미지"></div>
								<div class="column tit">
									<div class="brand-name">맛있닭</div>
									<p class="tit type2">맛있닭 NEW 다이어트 도시락 5종 혼합 210g</p>
									<ul class="price-item">
										<li><span class="num">19,500</span>원</li>
										<li class="dlv-type"><em class="imgbadge-dlv-exp"><span class="blind">특급배송</span></em></li>
									</ul>
									<div class="rating">
										<i class="ico-bl-star"></i><span class="text-guide-sm2">5점</span><span class="text-guide-sm">(1415)</span>
									</div>
								</div><!--// column  -->
							</div>
							<a href="#" class="btn-blank"><span class="blind">자세히 보기</span></a>
						</div><!--// prd-info-area -->
						<div class="added-btn">
							<button type="button" class="btn-rud-sm btn-default ui-btn-compare"><span>비교담기</span></button>
							<button type="button" class="btn-rud-sm btn-primary-line"><i class="ico-btn-cart"></i><span>장바구니</span></button>
							<div class="custom-checkbox form-circle-box">
								<input type="checkbox" id="check-101-13" class="checkbox-wish" name="check-item-1"><label for="check-101-13"><span class="blind">체크박스</span></label>
							</div>
						</div>
					</li><!--// order-list-item -->
					<li class="compare-item" data-list="3">
						<div class="prd-info-area">
							<div class="inner">
								<div class="column img w80"><img src="../../images/_samples/@sample_80x80.png" alt="상품이미지"></div>
								<div class="column tit">
									<div class="brand-name">맛있닭</div>
									<p class="tit type2">맛있닭 NEW 다이어트 도시락 5종 혼합 210g</p>
									<ul class="price-item">
										<li><span class="num">19,500</span>원</li>
										<li class="dlv-type"><em class="imgbadge-dlv-exp"><span class="blind">특급배송</span></em></li>
									</ul>
									<div class="rating">
										<i class="ico-bl-star"></i><span class="text-guide-sm2">5점</span><span class="text-guide-sm">(1415)</span>
									</div>
								</div><!--// column  -->
							</div>
							<a href="#" class="btn-blank"><span class="blind">자세히 보기</span></a>
						</div><!--// prd-info-area -->
						<div class="added-btn">
							<button type="button" class="btn-rud-sm btn-default ui-btn-compare"><span>비교담기</span></button>
							<button type="button" class="btn-rud-sm btn-primary-line"><i class="ico-btn-cart"></i><span>장바구니</span></button>
							<div class="custom-checkbox form-circle-box">
								<input type="checkbox" id="check-101-13" class="checkbox-wish" name="check-item-1"><label for="check-101-13"><span class="blind">체크박스</span></label>
							</div>
						</div>
					</li><!--// order-list-item -->
					<li class="compare-item" data-list="4">
						<div class="prd-info-area">
							<div class="inner">
								<div class="column img w80"><img src="../../images/_samples/@sample_80x80.png" alt="상품이미지"></div>
								<div class="column tit">
									<div class="brand-name">맛있닭</div>
									<p class="tit type2">맛있닭 NEW 다이어트 도시락 5종 혼합 210g</p>
									<ul class="price-item">
										<li><span class="num">19,500</span>원</li>
										<li class="dlv-type"><em class="imgbadge-dlv-exp"><span class="blind">특급배송</span></em></li>
									</ul>
									<div class="rating">
										<i class="ico-bl-star"></i><span class="text-guide-sm2">5점</span><span class="text-guide-sm">(1415)</span>
									</div>
								</div><!--// column  -->
							</div>
							<a href="#" class="btn-blank"><span class="blind">자세히 보기</span></a>
						</div><!--// prd-info-area -->
						<div class="added-btn">
							<button type="button" class="btn-rud-sm btn-default ui-btn-compare"><span>비교담기</span></button>
							<button type="button" class="btn-rud-sm btn-primary-line"><i class="ico-btn-cart"></i><span>장바구니</span></button>
							<div class="custom-checkbox form-circle-box">
								<input type="checkbox" id="check-101-13" class="checkbox-wish" name="check-item-1"><label for="check-101-13"><span class="blind">체크박스</span></label>
							</div>
						</div>
					</li><!--// order-list-item -->
				</ul>
			</div>
		</div><!--// content-wrap -->

		<!-- 비교하기 미니 팝업 -->
        <div class="compare-layer-pop hide">
            <div class="inner-box">
                <ul class="compare-list"> </ul>
                <a href="#" class="btn-basic-lg2 btn-black btn-dim"><span>비교하기</span></a><!-- 비교항목 2개 이상일 경우 removeClass btn-dim -->
            </div><!--// inner-box -->
        </div><!--// compare-layer-pop -->
        <!--// 비교하기 미니 팝업 -->

		 <!-- 하단 고정 메뉴 -->
		 <script>include.bottomNav();</script>
		 <!--// 하단 고정 메뉴 -->
	 </section>
	 <!--// ========== 컨텐츠 영역 :: container ========== -->
	
	<!-- ========== 공통 푸터 :: footer ========== -->
	<script>include.footer();</script>
	<!--// ========== 공통 푸터 :: footer ========== -->
</div><!--// wrap -->

<!-- ======================== 해당페이지에서만 사용되는 CSS / JS ======================== -->
<script>
    $(function () {
        var btn = $('.ui-btn-compare'); // 비교담기 버튼

        btn.on('click',function () {
            var btnAdd = $(this).hasClass('on');

			if ( !btnAdd ) {
				var itemLength = $('.ui-compare-select').find('li.selected').length 
				if ( itemLength < 3 ) {
					$(this).addClass('on').children('span').text('비교취소')
					$(this).parents('.compare-item').addClass('selected');

					openToastPop(itemLength + 1); // 토스트팝업으로 팝업에 담은 갯수 알림
                	compareAdd(this); // 선택한 항목 비교담기 팝업에 담기
				}
			} else if ( btnAdd ) {
				compareDel(this)
			}
            //compareScrollFix () // 비교팝업 위치
        });

        $(document).on('click', '.ui-compare-del', function () {
            //  삭제
			compareDel(this)
        })
   }); 

    compareViewPop = $('.compare-layer-pop');
    compareList = compareViewPop.find('.compare-list'); 

    // 비교담기 팝업에 표시
    function compareAdd (el) {
        if ( !compareViewPop.is(':visible') ) {
            compareViewPop.removeClass('hide'); // 비교팝업 열림
        }

		var listNum = $(el).parents('li.selected').data('list');
        var imgSrc = $(el).parents('.added-btn').siblings('.prd-info-area').find('img').attr('src');
        var imgList = '<li data-list="' + listNum + '"><img src="' + imgSrc + '" alt="제품이미지"><button type="button" class="btn-x-xs ui-compare-del"><i class="ico-x-white"></i><span class="blind">삭제</span></button></li>';

        if ( compareList.children('li').length < 3 ) {
            compareList.append(imgList);
        }

        // 항목 2개 이상일 경우 버튼 활성화
        compareActive ();
    }
	
	// 삭제
	function compareDel (el) {
		if ( !$(el).hasClass('ui-btn-compare') ) {
			var listValue = $(el).parent('li').data('list');
		} else {
			var listValue = $(el).parents('li.compare-item').data('list');
		}
		
		$('[data-list="' + listValue + '"]').removeClass('selected').find('.ui-btn-compare').removeClass('on').children('span').text('비교담기')
		compareList.find('[data-list="' + listValue + '"]').remove();

		compareActive ();

		if ( compareList.children('li').length === 0 ) {
            compareViewPop.addClass('hide')
        } 
	}

	// 항목 2개 이상일 경우 버튼 활성화
	function compareActive () {
        if ( compareList.children('li').length >= 2 ) {
            compareViewPop.find('.btn-black').removeClass('btn-dim')
        } else if ( compareList.children('li').length < 2 ) {
			compareViewPop.find('.btn-black').addClass('btn-dim')
		} 
	}

	function openToastPop (num) {
		containerWrap = $('.container');
		containerWrap.append('<div class="toast-pop"><div class="message"><p class="txt">' + num + '개의 비교 상품이 담겼습니다.</p><p class="sub-txt">(3개까지 비교가능)</p></div></div>')

		setTimeout(function () {
			closeToastPop ()
		},1000)
	}

</script>
<!-- ======================== 해당페이지에서만 사용되는 CSS / JS ======================== -->
</body>
</html>
